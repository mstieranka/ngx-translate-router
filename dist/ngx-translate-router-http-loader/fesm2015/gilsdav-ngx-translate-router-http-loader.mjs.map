{"version":3,"file":"gilsdav-ngx-translate-router-http-loader.mjs","sources":["../../../projects/ngx-translate-router-http-loader/src/lib/http-loader.ts","../../../projects/ngx-translate-router-http-loader/src/public_api.ts","../../../projects/ngx-translate-router-http-loader/src/gilsdav-ngx-translate-router-http-loader.ts"],"sourcesContent":["import { LocalizeParser, LocalizeRouterSettings } from '@gilsdav/ngx-translate-router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Routes } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\n\r\n/**\r\n * Config interface\r\n */\r\nexport interface ILocalizeRouterParserConfig {\r\n  locales: Array<string>;\r\n  prefix?: string;\r\n  escapePrefix?: string;\r\n}\r\n\r\nexport class LocalizeRouterHttpLoader extends LocalizeParser {\r\n  /**\r\n   * CTOR\r\n   * @param translate\r\n   * @param location\r\n   * @param settings\r\n   * @param http\r\n   * @param path\r\n   */\r\n  constructor(\r\n    translate: TranslateService,\r\n    location: Location,\r\n    settings: LocalizeRouterSettings,\r\n    private http: HttpClient,\r\n    private path: string = 'assets/locales.json'\r\n    ) {\r\n    super(translate, location, settings);\r\n  }\r\n\r\n  /**\r\n   * Initialize or append routes\r\n   * @param routes\r\n   */\r\n  load(routes: Routes): Promise<any> {\r\n    return new Promise((resolve: any) => {\r\n      this.http.get(`${this.path}`)\r\n        .subscribe((data: ILocalizeRouterParserConfig) => {\r\n          this.locales = data.locales;\r\n          this.prefix = data.prefix || '';\r\n          this.escapePrefix = data.escapePrefix || '';\r\n          this.init(routes).then(resolve);\r\n        });\r\n    });\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of ngx-translate-router-http-loader\r\n */\r\n\r\nexport * from './lib/http-loader';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;AAeM,MAAO,wBAAyB,SAAQ,cAAc,CAAA;AAC1D;;;;;;;AAOG;IACH,WACE,CAAA,SAA2B,EAC3B,QAAkB,EAClB,QAAgC,EACxB,IAAgB,EAChB,IAAA,GAAe,qBAAqB,EAAA;AAE5C,QAAA,KAAK,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AAH7B,QAAA,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAY;AAChB,QAAA,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAgC;KAG7C;AAED;;;AAGG;AACH,IAAA,IAAI,CAAC,MAAc,EAAA;AACjB,QAAA,OAAO,IAAI,OAAO,CAAC,CAAC,OAAY,KAAI;YAClC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAA,CAAE,CAAC;AAC1B,iBAAA,SAAS,CAAC,CAAC,IAAiC,KAAI;AAC/C,gBAAA,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;gBAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC;gBAC5C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAClC,aAAC,CAAC,CAAC;AACP,SAAC,CAAC,CAAC;KACJ;AACF;;ACjDD;;AAEG;;ACFH;;AAEG;;;;"}